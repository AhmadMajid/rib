<h1>Latest posts</h1>

<%= will_paginate @posts %>

<% i = 1 %>

<% @posts.each do |post| %>
  <% if i > 1 && i % 3 == 1 %>
    <hr>
    <div class="post-index-entry one-third column alpha">
  <% elsif i % 3 == 0 %>
    <div class="post-index-entry one-third column omega">
  <% else %>
    <div class="post-index-entry one-third column">
  <% end %>
  <% i += 1 %>

    <% if session[:user_id] %>
      <div class="admin-controls">
        <span><%= link_to 'Show', post %></span>
        <span><%= link_to 'Edit', edit_post_path(post) %></span>
        <span><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></span>
      </div>
    <% end %>

    <div>
      <% if !post.discussion.nil? && !post.discussion.board.nil? %>
        <div class="post-index-entry-board">
          <%= post.discussion.board.title %>
        </div>
      <% end %>

      <% if post.title? %>
        <div class="post-index-entry-title">
          <%= post.title %>
        </div>
      <% end %>

      <% if post.text? %>
        <div class="post-index-entry-text">
          <%= post.text %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>

<div class="clearfix"></div>
<%= will_paginate @posts %>